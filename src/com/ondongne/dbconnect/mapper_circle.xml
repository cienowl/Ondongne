<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="circle">
	<insert id="circleInsert" parameterType="com.ondongne.dto.DataTransferCircle">
		insert into circle(email,pictures, post_date, title, region, zipcode, address, address_detail, event_date, end_date, gender, description, tags) values (#{email},'a',NOW(), #{title},#{region},#{zipcode},#{address},#{address_detail},#{event_date},#{end_date},#{gender},#{description},'tag');
	</insert>
	
	<select id="getCirclePostAll" resultType="com.ondongne.dto.DataTransferCircle">
		select * from circle;
	</select>
	
	<select id="getJoinCircle" parameterType="String" resultType="com.ondongne.dto.DataTransferCircle">
		select title, email, event_date from circle where id IN(select join_postid from helper_circle where join_email=#{loginEmail});
	</select>
</mapper>